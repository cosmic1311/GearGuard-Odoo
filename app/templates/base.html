<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">

    <title>{% block title %}GearGuard{% endblock %}</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FullCalendar (optional pages) -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>

    {% block head %}{% endblock %}
</head>

<body class="bg-slate-100 dark:bg-slate-900 text-black dark:text-white flex min-h-screen">

{% block sidebar %}   
<!-- ðŸ”¹ SIDEBAR -->
<aside class="w-64 bg-slate-900 text-white p-6 hidden md:block">
    <h2 class="text-2xl font-bold mb-8">GearGuard</h2>
    <nav class="space-y-3">
        <a href="{{ url_for('dashboard.dashboard') }}"
           class="block hover:text-indigo-400">Dashboard</a>

        <a href="{{ url_for('calendar.calendar') }}"
           class="block hover:text-indigo-400">Calendar</a>

        <a href="{{ url_for('equipment.equipment') }}"
           class="block hover:text-indigo-400">Equipment</a>

        <a href="{{ url_for('kanban.kanban') }}"
           class="block hover:text-indigo-400">Kanban</a>
    </nav>
</aside>
{% endblock %}
<!-- ðŸ”¹ MAIN -->
<div class="flex-1 flex flex-col">

    <!-- ðŸ”¹ TOP BAR -->
    <header class="bg-white dark:bg-slate-800 shadow px-6 py-4 flex justify-between items-center">
        <h1 class="text-xl font-semibold">
            {% block page_title %}{% endblock %}
        </h1>

        <div class="space-x-4">
            {% if current_user.is_authenticated %}
                <span class="text-sm text-slate-600 dark:text-slate-300">
                    {{ current_user.username }}
                </span>
                <a href="{{ url_for('auth.logout') }}"
                   class="text-sm text-red-500 hover:underline">
                    Logout
                </a>
            {% else %}
                <a href="{{ url_for('auth.login') }}"
                   class="text-sm hover:underline">Login</a>
                <a href="{{ url_for('auth.register') }}"
                   class="text-sm hover:underline">Register</a>
            {% endif %}
        </div>
    </header>

    <!-- ðŸ”” FLASH MESSAGES -->
    <div class="px-6 pt-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="mb-3 px-4 py-3 rounded
                {% if category == 'danger' %}
                  bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200
                {% elif category == 'success' %}
                  bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200
                {% else %}
                  bg-slate-200 dark:bg-slate-700
                {% endif %}">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}
    </div>

    <!-- ðŸ”¹ PAGE CONTENT -->
    <main class="flex-1 p-6">
        {% block content %}{% endblock %}
    </main>

    <!-- ðŸ”¹ FOOTER -->
    <footer class="text-center text-sm py-4 text-slate-500">
        Â© 2025 GearGuard-Odoo
    </footer>

</div>
</body>
</html>

